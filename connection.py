import pysftp
import serverinfo

class SftpConnection(object):
    SERVER = serverinfo.Server.SERVER
    PORT = serverinfo.Server.PORT
    USER = serverinfo.Server.USER
    KEY = serverinfo.Server.KEY
    
    def __init__(self):
        
        self.isConnected = False
        self.conn = None
    
    def connect(self):
        self.conn = pysftp.Connection(self.SERVER, self.USER, self.KEY)
        return self.conn
    def sendFile(self, file, remotePath=None):
        self.conn.put(file, remotepath=remotePath, confirm=True, 
                     preserve_mtime=False)

if __name__ == "__main__":
    s = SftpConnection()
    s.connect()